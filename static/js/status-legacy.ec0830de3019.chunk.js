System.register(["./vendor-legacy.fc156c611c90.chunk.js","./index-legacy.eddd011a9de2.js","./DataGrid-legacy.606cc6b38f34.chunk.js"],(function(e,t){"use strict";var a,s,n,r,i,o,l,c,d,u,m,h,p,g,b,f,x;return{setters:[e=>{a=e.j,s=e.o,n=e.b9,r=e.r,i=e.ar,o=e.B,l=e.cK,c=e.cH,d=e.l,u=e.C,m=e.ah},e=>{h=e.M,p=e.m,g=e.j,b=e.B,f=e.b},e=>{x=e.D}],execute:function(){const t=({children:e,className:t})=>a(h,{className:t,content:!1,children:e}),S=p()((e=>({icon:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},successIcon:{color:e.palette.success.main,fontSize:".8rem"},errorIcon:{color:e.palette.error.main,fontSize:".8rem"},rateBox:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},rateChip:{minWidth:e.spacing(8)}}))),N=({className:e})=>{const{t:t}=s(),{data:h}=g(),{data:p,isLoading:f}=b(void 0,{skip:null===h?.plan_id,pollingInterval:1e4}),{classes:N}=S(),[y,v]=n.useState(10),w=r.useMemo((()=>p?.filter((e=>1===e.show)).sort(((e,t)=>{switch(!0){case e.sort>t.sort:return 1;case e.sort<t.sort:return-1;default:return 0}}))??[]),[p]),C=r.useMemo((()=>[{field:"id",headerName:t("node.status.table.id",{context:"header"}).toString(),description:t("node.status.table.id",{context:"description"}).toString(),type:"number"},{field:"name",headerName:t("node.status.table.name",{context:"header"}).toString(),description:t("node.status.table.name",{context:"description"}).toString(),minWidth:160,sortable:!0,filterable:!0},{field:"last_check_at",headerName:t("node.status.table.status",{context:"header"}).toString(),description:t("node.status.table.status",{context:"description"}).toString(),width:120,sortable:!1,type:"boolean",valueGetter:e=>e.value&&Math.abs(i.unix(parseInt(e.value)).diff(i(),"minute"))<=5,renderCell:e=>a(o,{className:N.icon,children:e.value?a(l,{className:N.successIcon}):a(c,{className:N.errorIcon})})},{field:"type",headerName:t("node.status.table.type",{context:"header"}).toString(),description:t("node.status.table.type",{context:"description"}).toString(),width:160,sortable:!1,valueFormatter:e=>d.capitalize(e.value)},{field:"rate",headerName:t("node.status.table.rate",{context:"header"}).toString(),description:t("node.status.table.rate",{context:"description"}).toString(),width:120,sortable:!1,renderCell:e=>a(o,{className:N.rateBox,children:a(u,{label:`${e.value} x`,size:"small",className:N.rateChip})})},{field:"tags",headerName:t("node.status.table.tags",{context:"header"}).toString(),description:t("node.status.table.tags",{context:"description"}).toString(),minWidth:160,sortable:!1,type:"singleSelect",renderCell:e=>a(m,{direction:"row",spacing:1,children:e.value?.map((e=>a(u,{label:e,size:"small"},e)))})}]),[p,t,N]);return a(x,{columns:C,rows:w,className:e,loading:f,rowsPerPageOptions:[5,10,25,50],pageSize:y,onPageSizeChange:e=>v(e)})},y=p()((e=>({root:{flexGrow:1,height:"100%",display:"flex",flexDirection:"column"},dataGrip:{height:"100%"}}))),v=()=>{const{classes:e}=y();return a(t,{className:e.root,children:a(N,{className:e.dataGrip})})};e("default",(()=>(f("node-status"),a(v,{}))))}}}));
