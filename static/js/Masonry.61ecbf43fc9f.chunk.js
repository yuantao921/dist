import{b_ as Q,b$ as X,s as Y,r as g,c0 as Z,c1 as ee,c2 as h,c3 as te,j as se,k as ne,c4 as oe,c5 as re,c6 as P,c7 as ie,c8 as $,c9 as v,ca as H,cb as ae}from"./vendor.83d59a4358fc.chunk.js";function ce(e){return Q("MuiMasonry",e)}X("MuiMasonry",["root"]);const le=["children","className","component","columns","spacing","defaultColumns","defaultHeight","defaultSpacing"],d=e=>Number(e.replace("px","")),ue={flexBasis:"100%",width:0,margin:0,padding:0},de=e=>{const{classes:n}=e;return re({root:["root"]},ce,n)},me=({ownerState:e,theme:n})=>{let r={width:"100%",display:"flex",flexFlow:"column wrap",alignContent:"flex-start",boxSizing:"border-box","& > *":{boxSizing:"border-box"}};const c={};if(e.isSSR){const s={},t=d(n.spacing(e.defaultSpacing));for(let o=1;o<=e.defaultColumns;o+=1)s[`&:nth-of-type(${e.defaultColumns}n+${o%e.defaultColumns})`]={order:o};return c.height=e.defaultHeight,c.margin=-(t/2),c["& > *"]=h({},r["& > *"],s,{margin:t/2,width:`calc(${(100/e.defaultColumns).toFixed(2)}% - ${t}px)`}),h({},r,c)}const i=P({values:e.spacing,breakpoints:n.breakpoints.values}),y=ie(n);r=$(r,v({theme:n},i,s=>{let t;if(typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"){const o=Number(s);t=H(y,o)}else t=s;return h({margin:`calc(0px - (${t} / 2))`,"& > *":{margin:`calc(${t} / 2)`}},e.maxColumnHeight&&{height:typeof t=="number"?Math.ceil(e.maxColumnHeight+d(t)):`calc(${e.maxColumnHeight}px + ${t})`})}));const a=P({values:e.columns,breakpoints:n.breakpoints.values});return r=$(r,v({theme:n},a,s=>{const o=`${(100/Number(s)).toFixed(2)}%`,b=typeof i=="string"&&!Number.isNaN(Number(i))||typeof i=="number"?H(y,Number(i)):"0px";return{"& > *":{width:`calc(${o} - ${b})`}}})),typeof i=="object"&&(r=$(r,v({theme:n},i,(s,t)=>{if(t){const o=Number(s),b=Object.keys(a).pop(),l=H(y,o);return{"& > *":{width:`calc(${`${(100/(typeof a=="object"?a[t]||a[b]:a)).toFixed(2)}%`} - ${l})`}}}return null}))),r},fe=Y("div",{name:"MuiMasonry",slot:"Root",overridesResolver:(e,n)=>[n.root]})(me),pe=g.forwardRef(function(n,r){const c=Z({props:n,name:"MuiMasonry"}),{children:i,className:y,component:B="div",columns:a=4,spacing:S=1,defaultColumns:s,defaultHeight:t,defaultSpacing:o}=c,b=ee(c,le),l=g.useRef(),[R,F]=g.useState(),w=!R&&t&&s!==void 0&&o!==void 0,[T,_]=g.useState(w?s-1:0),E=h({},c,{spacing:S,columns:a,maxColumnHeight:R,defaultColumns:s,defaultHeight:t,defaultSpacing:o,isSSR:w}),U=de(E),W=u=>{if(!l.current||!u||u.length===0)return;const m=l.current,O=l.current.firstChild,V=m.clientWidth,j=O.clientWidth;if(V===0||j===0)return;const z=window.getComputedStyle(O),G=d(z.marginLeft),q=d(z.marginRight),k=Math.round(V/(j+G+q)),C=new Array(k).fill(0);let x=!1;m.childNodes.forEach(f=>{if(f.nodeType!==Node.ELEMENT_NODE||f.dataset.class==="line-break"||x)return;const M=window.getComputedStyle(f),J=d(M.marginTop),K=d(M.marginBottom),L=d(M.height)?Math.ceil(d(M.height))+J+K:0;if(L===0){x=!0;return}for(let p=0;p<f.childNodes.length;p+=1){const N=f.childNodes[p];if(N.tagName==="IMG"&&N.clientHeight===0){x=!0;break}}if(!x){const p=C.indexOf(Math.min(...C));C[p]+=L;const N=p+1;f.style.order=N}}),x||ae.flushSync(()=>{F(Math.max(...C)),_(k>0?k-1:0)})},A=g.useRef(typeof ResizeObserver>"u"?void 0:new ResizeObserver(W));g.useEffect(()=>{const u=A.current;if(u!==void 0)return l.current&&l.current.childNodes.forEach(m=>{u.observe(m)}),()=>u?u.disconnect():{}},[a,S,i]);const D=te(r,l),I=new Array(T).fill("").map((u,m)=>se("span",{"data-class":"line-break",style:h({},ue,{order:m+1})},m));return ne(fe,h({as:B,className:oe(U.root,y),ref:D,ownerState:E},b,{children:[i,I]}))}),he=pe;export{he as M};
